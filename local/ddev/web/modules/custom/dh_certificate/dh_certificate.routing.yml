# Base administrative routes
dh_certificate.admin:
  path: '/admin/config/dh-certificate'
  defaults:
    _controller: 'Drupal\dh_certificate\Controller\DHCertificateController::adminOverview'
    _title: 'DH Certificate Administration'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.courses:
  path: '/admin/config/dh-certificate/courses'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\CourseController::courseListing'
    _title: 'Course Management'
  requirements:
    _permission: 'administer dh certificate courses'
  options:
    _admin_route: TRUE

dh_certificate.courses.ajax:
  path: '/admin/config/dh-certificate/courses/ajax'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\CourseController::ajaxCourseListing'
  requirements:
    _permission: 'administer dh certificate'

dh_certificate.course_add:
  path: '/admin/config/dh-certificate/courses/add'
  defaults:
    _form: '\Drupal\dh_certificate\Form\CourseForm'
    _title: 'Add Course'
  requirements:
    _permission: 'administer certificate courses'
  options:
    _admin_route: TRUE

# Requirements section - consolidate paths
dh_certificate.requirements:
  path: '/admin/config/dh-certificate/requirements'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\RequirementController::overview'
    _title: 'Requirements Overview'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE
    no_cache: TRUE

dh_certificate.requirements_overview:
  path: '/admin/config/dh-certificate/requirements'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\RequirementController::overview'
    _title: 'Certificate Requirements'
  requirements:
    _permission: 'administer dh certificate'
    no_cache: TRUE

dh_certificate.requirement.add:
  path: '/admin/config/dh-certificate/requirements/add/{requirement_set}'
  defaults:
    _form: '\Drupal\dh_certificate\Form\RequirementForm'
    _title: 'Add Requirement'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

dh_certificate.requirement_types:
  path: '/admin/config/dh-certificate/requirements/types'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\RequirementTypeController::overview'
    _title: 'Requirement Types'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

dh_certificate.requirement_templates:
  path: '/admin/config/dh-certificate/requirements/templates'
  defaults:
    _entity_list: 'requirement_type_template'
    _title: 'Requirement Type Templates'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

# Remove or comment out dh_certificate.admin_enrollments route
# Remove dh_certificate.enrollments route

entity.enrollment.collection:
  path: '/admin/config/dh-certificate/enrollments'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\EnrollmentController::listEnrollments'
    _title: 'Enrollments'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.enrollment_add:
  path: '/admin/config/dh-certificate/enrollments/add'
  defaults:
    _form: '\Drupal\dh_certificate\Form\EnrollmentForm'
    _title: 'Add Enrollment'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.enrollment_edit:
  path: '/admin/config/dh-certificate/enrollments/{id}/edit'
  defaults:
    _form: '\Drupal\dh_certificate\Form\EnrollmentForm'
    _title: 'Edit Enrollment'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.enrollment_delete:
  path: '/admin/config/dh-certificate/enrollment/{id}/delete'
  defaults:
    _form: 'Drupal\dh_certificate\Form\DeleteEnrollmentConfirmForm'
    _title: 'Delete Enrollment'
  requirements:
    _permission: 'administer dh certificate'
  options:
    parameters:
      id:
        type: integer

dh_certificate.enrollment.ajax:
  path: '/admin/config/dh-certificate/enrollment/ajax'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\EnrollmentController::ajaxEnrollmentListing'
  requirements:
    _permission: 'administer dh certificate'

dh_certificate.user_progress:
  path: '/certificate/progress'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\ProgressController::userProgress'
    _title: 'My Certificate Progress'
  requirements:
    _permission: 'access content+view own certificate progress'
    _role: 'authenticated'
  options:
    _admin_route: FALSE

dh_certificate.reset_progress:
  path: '/admin/config/dh-certificate/reset'
  defaults:
    _form: '\Drupal\dh_certificate\Form\ResetProgressForm'
    _title: 'Reset Progress'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.settings:
  path: '/admin/config/dh-certificate/settings'
  defaults:
    _form: '\Drupal\dh_certificate\Form\DHCertificateSettingsForm'
    _title: 'Certificate Settings'
  requirements:
    _permission: 'administer dh certificate settings'
  options:
    _admin_route: TRUE

# Progress section - consolidate paths and hierarchy
dh_certificate.admin_progress:
  path: '/admin/config/dh-certificate/progress'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\ProgressController::adminOverview'
    _title: 'Certificate Progress'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

# Structure monitor routes - consolidated
dh_certificate.structure_monitor:
  path: '/admin/config/dh-certificate/structure'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::overview'
    _title: 'Structure Monitors'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

# Monitor overview route
dh_certificate.monitor_overview:
  path: '/admin/config/dh-certificate/monitor'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::overview'
    _title: 'Structure Monitor Overview'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.course_monitor:
  path: '/admin/config/dh-certificate/structure/course'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::detail'
    _title: 'Course Structure Monitor'
    monitor_id: 'course'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.course_monitor_record:
  path: '/admin/config/dh-certificate/structure/course/{record_id}'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::detail'
    _title: 'Course Structure Change Record'
    monitor_id: 'course'
  requirements:
    _permission: 'administer site configuration'
  options:
    parameters:
      record_id:
        type: string

dh_certificate.profile_monitor:
  path: '/admin/config/dh-certificate/structure/profile'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::detail'
    _title: 'Profile Structure Monitor'
    monitor_id: 'profile'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.taxonomy_monitor:
  path: '/admin/config/dh-certificate/structure/taxonomy'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::detail'
    _title: 'Taxonomy Structure Monitor'
    monitor_id: 'taxonomy'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.monitor_reset:
  path: '/admin/config/dh-certificate/structure/reset'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::reset'
    _title: 'Reset Structure Monitor'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.course_monitor.refresh:
  path: '/admin/config/dh-certificate/structure/course/refresh'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::refreshCourse'
    _title: 'Refresh Course Structure'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.profile_monitor.refresh:
  path: '/admin/config/dh-certificate/structure/profile/refresh'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::refreshProfile'
    _title: 'Refresh Profile Structure'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

dh_certificate.taxonomy_monitor.refresh:
  path: '/admin/config/dh-certificate/structure/taxonomy/refresh'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\StructureMonitorController::refreshTaxonomy'
    _title: 'Refresh Taxonomy Structure'
  requirements:
    _permission: 'administer dh certificate'
  options:
    _admin_route: TRUE

# Requirement Sets routes
entity.requirement_set.collection:
  path: '/admin/config/dh-certificate/requirements/sets'
  defaults:
    _entity_list: 'requirement_set'
    _title: 'Requirement Sets'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_set.add_form:
  path: '/admin/config/dh-certificate/requirements/sets/add'
  defaults:
    _entity_form: 'requirement_set.add'
    _title: 'Add Requirement Set'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_set.edit_form:
  path: '/admin/config/dh-certificate/requirements/sets/{requirement_set}/edit'
  defaults:
    _entity_form: 'requirement_set.edit'
    _title_callback: '\Drupal\dh_certificate\Controller\RequirementController::editTitle'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE
    parameters:
      requirement_set:
        type: entity:requirement_set

entity.requirement_set.enable:
  path: '/admin/config/dh-certificate/requirements/sets/{requirement_set}/enable'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\RequirementSetController::enable'
    _title: 'Enable requirement set'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_set.disable:
  path: '/admin/config/dh-certificate/requirements/sets/{requirement_set}/disable'
  defaults:
    _controller: '\Drupal\dh_certificate\Controller\RequirementSetController::disable'
    _title: 'Disable requirement set'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_set.delete_form:
  path: '/admin/config/dh-certificate/requirements/sets/{requirement_set}/delete'
  defaults:
    _entity_form: 'requirement_set.delete'
    _title: 'Delete Requirement Set'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type_template.collection:
  path: '/admin/config/dh-certificate/requirement-templates'
  defaults:
    _entity_list: 'requirement_type_template'
    _title: 'Requirement Type Templates'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type_template.add_form:
  path: '/admin/config/dh-certificate/requirement-templates/add'
  defaults:
    _entity_form: 'requirement_type_template.add'
    _title: 'Add requirement type template'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type_template.edit_form:
  path: '/admin/config/dh-certificate/requirement-templates/{requirement_type_template}/edit'
  defaults:
    _entity_form: 'requirement_type_template.edit'
    _title_callback: '\Drupal\Core\Entity\Controller\EntityController::title'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type_template.delete_form:
  path: '/admin/config/dh-certificate/requirement-templates/{requirement_type_template}/delete'
  defaults:
    _entity_form: 'requirement_type_template.delete'
    _title: 'Delete requirement type template'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type.collection:
  path: '/admin/config/dh-certificate/requirements/types'
  defaults:
    _entity_list: 'requirement_type'
    _title: 'Requirement Types'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type.add_form:
  path: '/admin/config/dh-certificate/requirements/types/add'
  defaults:
    _entity_form: 'requirement_type.add'
    _title: 'Add Requirement Type'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type.edit_form:
  path: '/admin/config/dh-certificate/requirements/types/{requirement_type}/edit'
  defaults:
    _entity_form: 'requirement_type.edit'
    _title_callback: '\Drupal\dh_certificate\Controller\RequirementTypeController::editTitle'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

entity.requirement_type.delete_form:
  path: '/admin/config/dh-certificate/requirements/types/{requirement_type}/delete'
  defaults:
    _entity_form: 'requirement_type.delete'
    _title: 'Delete Requirement Type'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    _admin_route: TRUE

# Requirement entity routes
entity.requirement.collection:
  path: '/admin/structure/requirements'
  defaults:
    _entity_list: 'requirement'
    _title: 'Requirements'
  requirements:
    _permission: 'administer dh certificate requirements'

entity.requirement.add_form:
  path: '/admin/structure/requirements/add'
  defaults:
    _entity_form: 'requirement.add'
    _title: 'Add Requirement'
  requirements:
    _permission: 'administer dh certificate requirements'

entity.requirement.edit_form:
  path: '/admin/structure/requirements/{requirement}/edit'
  defaults:
    _entity_form: 'requirement.edit'
    _title: 'Edit Requirement'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    parameters:
      requirement:
        type: entity:requirement

entity.requirement.delete_form:
  path: '/admin/structure/requirements/{requirement}/delete'
  defaults:
    _entity_form: 'requirement.delete'
    _title: 'Delete Requirement'
  requirements:
    _permission: 'administer dh certificate requirements'
  options:
    parameters:
      requirement:
        type: entity:requirement

entity.certificate.add_form:
  path: '/admin/config/dh-certificate/requirements/add/{certificate_type}'
  defaults:
    _entity_form: 'certificate.add'
    _title: 'Add Certificate'
  requirements:
    _permission: 'administer certificates'

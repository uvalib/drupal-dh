{# filepath: /Users/ys2n/Code/ddev/drupal-dh/local/ddev/web/modules/custom/dh_certificate/templates/certificate-progress-block.html.twig #}
<div class="certificate-progress-block">
  {% if progress %}
    <div class="progress-summary">
      <div class="progress-bar">
        <div class="progress-bar__fill" style="width: {{ progress.total_percentage ?? 0 }}%">
          <span class="progress-bar__text">{{ progress.total_percentage ?? 0 }}%</span>
        </div>
      </div>

      <div class="progress-stats">
        <div class="stat">
          <span class="label">{{ 'Completed:'|t }}</span>
          <span class="value">{{ progress.completed_courses ?? 0 }}/{{ progress.total_courses ?? 0 }}</span>
        </div>
        <div class="stat">
          <span class="label">{{ 'Credits:'|t }}</span>
          <span class="value">{{ progress.total_credits ?? 0 }}/{{ progress.required_credits ?? 12 }}</span>
        </div>
      </div>
    </div>

    {% if progress.courses %}
      <div class="courses-list">
        <h4>{{ 'Course Progress'|t }}</h4>
        <ul>
          {% for course in progress.courses %}
            <li class="course-item course-status--{{ course.status|clean_class }}">
              <span class="course-title">{{ course.title }}</span>
              <span class="course-status">{{ course.status|title }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  {% else %}
    <p>{{ 'No progress data available.'|t }}</p>
  {% endif %}
</div>